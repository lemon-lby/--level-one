<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        ////希望有一种方式，可以用代码控制，页面不会跳转，服务端返回的结果可以用JS继续处理
        var xhr = null;
        if (window.XMLHttpRequest) {
            xhr = new XMLHttpRequest();
        } else {
            xhr = new ActiveXObject("Microsoft.XMLHttp"); //IE6
        }
        console.log(xhr.readyState);
        xhr.open("get", "http://developer.duyiedu.com:80/edu/testAjaxCrossOrigin",true);//如果open第三个参数传true或不传，为异步模式；如果传false,为同步模式
        console.log(xhr.readyState);
        console.log(xhr.readyState);
        xhr.onreadystatechange = function () {
            //readyState == 4  表示请求已完成，已经接收到数据
            //status === 200  网络请求，结果都会有一个状态码，来表示这个请求是否正常
            //200表示请求成功
            //http状态码：2** 表示成功     3** 表示重定向     4** 表示客户端错误 404页面未找到      5** 表示服务端错误
            if (xhr.readyState === 4 && xhr.status === 200) {
                alert(xhr.responseText);
                var data = JSON.parse(xhr.responseText);
                console.log(data);
            }
        }
        xhr.send();
        console.log("aaaa");
    </script>
</body>

</html>