<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script src="./../lodash.js"></script>
    <script>
        //at()创建一个数组，值来自 object 的paths路径相应的值。
        var object = {
            'a': [{
                'b': {
                    'c': 3
                }
            }, 4]
        };
        console.log(_.at(object, ['a[0].b.c', 'a[1]']));


        //defaults() 合并对象  两种有区别
        console.log(
            _.defaults({
                'a': 1
            }, {
                'b': 2
            }, {
                'a': 3
            }), //前覆盖后
            _.assign({
                'a': 1
            }, {
                'b': 2
            }, {
                'a': 3
            }) //后覆盖前
        )


        //findKey() 从左往右找
        var users = {
            'barney': {
                'age': 36,
                'active': true
            },
            'fred': {
                'age': 40,
                'active': false
            },
            'pebbles': {
                'age': 1,
                'active': true
            }
        };
        console.log(_.findKey(users, {
            'age': 1,
            'active': true
        }));
        //findLastKey()从右往左找



        //setWith()
        console.log(_.setWith({}, '[0][1]', 'a', Object));


        //invert()
        var obj = {
            'a': 1,
            'b': 2,
            'c': 1
        };
        console.log(_.invert(obj));


        //invoke()
        var object = {
            'a': [{
                'b': {
                    'c': [1, 2, 3, 4]
                }
            }]
        };
        console.log(_.invoke(object, 'a[0].b.c.slice', 1, 3));



        //mapKeys()
        var result = _.mapKeys({
            'a': 1,
            'b': 2
        }, function (value, key) {
            return key + value;
        });
        console.log(result);
        //mapValues()
        var result = _.mapValues({
            'a': 1,
            'b': 2
        }, function (value, key) {
            return key + value;
        });
        console.log(result);


        //merge()
        var object = {
            'a': [{
                'b': 2
            }, {
                'd': 4
            }]
        };

        var other = {
            'a': [{
                'c': 3
            }, {
                'e': 5
            }]
        };
        console.log(_.merge(object, other));



        //omit()  删除第二个参数的值  这个方法一个对象，这个对象由忽略属性之外的object自身和继承的可枚举属性组成
        console.log(_.omit({
            'a': 1,
            'b': 2,
            'c': 3
        }, ['a', 'c']));

        //pick()创建一个从 object 中选中的属性的对象。
        console.log(_.pick({
            'a': 1,
            'b': 2,
            'c': 3
        }, ['a', 'c']));

        //result()如果解析到的值是一个函数的话，就绑定 this 到这个函数并返回执行后的结果。
        var obj = {
            a: 12,
            b: function () {
                console.log(this.a);
            }
        };
        console.log(_.result(obj, 'a'));
        _.result(obj, 'b');


        //toPairs() 和 toPairsIn()
        function Foo() {
            this.a = 1;
            this.b = 2;
        };
        Foo.prototype.c = 3;
        console.log(_.toPairs(new Foo()));
        console.log(_.toPairsIn(new Foo()));

        //unset() 移除object对象 path 路径上的属性。
        var object = {
            'a': [{
                'b': {
                    'c': 7
                }
            }]
        };
        _.unset(object, 'a[0].b.c');
        console.log(object);

        //update()接受updater以生成要设置的值
        var object = {
            a: 10
        };
        _.update(object, 'a', function (n) {
            return n * n
        });
        console.log(object);


        //updateWith()
        var object = {};

        _.updateWith(object, '[0][1]', function () {
            return 123;
        }, Object);
        console.log(object);
    </script>
</body>

</html>